<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    
    <!-- SEO Meta Tags -->
    <title>Kırıkkale Çölyak Derneği | Ana Sayfa - Glutensiz Yaşam Desteği</title>
    <meta name="description" content="Kırıkkale Çölyak Derneği, çölyak hastalarına destek ve glutensiz yaşam rehberi sunar. Yerel ürünler, beslenme tavsiyeleri ve topluluk desteği için bize katılın.">
    <meta name="keywords" content="Kırıkkale çölyak, glutensiz yaşam, çölyak derneği, gluten alerjisi, Kırıkkale glutensiz ürünler">
    <meta name="author" content="Kırıkkale Çölyak Derneği">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.kirikkalecolyak.org/">
    <meta property="og:title" content="Kırıkkale Çölyak Derneği | Glutensiz Yaşam Desteği">
    <meta property="og:description" content="Çölyak hastalarına destek ve glutensiz yaşam rehberi. Yerel ürünler, beslenme tavsiyeleri ve topluluk desteği.">
    <meta property="og:image" content="https://www.kirikkalecolyak.org/img/logo.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.kirikkalecolyak.org/">
    <meta property="twitter:title" content="Kırıkkale Çölyak Derneği | Glutensiz Yaşam Desteği">
    <meta property="twitter:description" content="Çölyak hastalarına destek ve glutensiz yaşam rehberi.">
    <meta property="twitter:image" content="https://www.kirikkalecolyak.org/img/logo.png">
    
    <meta name="theme-color" content="#059669">
    <link rel="canonical" href="https://www.kirikkalecolyak.org/">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Kırıkkale Çölyak Derneği",
        "url": "https://www.kirikkalecolyak.org",
        "logo": "https://www.kirikkalecolyak.org/img/logo.png",
        "description": "Kırıkkale Çölyak Derneği, çölyak hastalarına destek ve glutensiz yaşam rehberi sunar.",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Kırıkkale",
            "addressCountry": "TR"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+90-318-123-45-67",
            "contactType": "customer service"
        },
        "sameAs": [
            "https://www.facebook.com/kirikkalecolyak",
            "https://www.instagram.com/kirikkalecolyak"
        ]
    }
    </script>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">

    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-emerald-600 text-white px-4 py-2 rounded z-50">
        Ana içeriğe atla
    </a>

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-[1100px] mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="index.html" class="flex items-center" aria-label="Kırıkkale Çölyak Derneği Ana Sayfa">
                        <div class="w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center text-white text-2xl font-bold mr-3 overflow-hidden bg-emerald-25">
                            <img src="img/logo.png" alt="Kırıkkale Çölyak Derneği Logo" class="w-full h-full object-cover" loading="lazy" onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\'fas fa-heart\'></i>';">
                        </div>
                        <div>
                            <h1 class="text-lg md:text-xl font-bold text-gray-900 leading-tight">Kırıkkale</h1>
                            <p class="text-xs text-gray-700 font-medium">Çölyak Derneği</p>
                        </div>
                    </a>
                </div>

                <!-- Desktop Nav -->
                <nav class="hidden md:flex space-x-1" aria-label="Ana menü">
                    <a href="index.html" class="nav-link active" aria-current="page">Ana Sayfa</a>
                    <a href="hakkimizda.html" class="nav-link">Derneğimiz</a>
                    <a href="yerel-rehber.html" class="nav-link">Yerel Rehber</a>
                    <a href="glutensiz-yasam.html" class="nav-link">Glutensiz Yaşam</a>
                    <a href="bagis.html" class="nav-link">Bağış Yap</a>
                    <a href="iletisim.html" class="nav-link">İletişim</a>
                </nav>

                <!-- Mobile Menu Button -->
                <button class="md:hidden text-gray-700 hover:text-emerald-600 focus:outline-none p-2 rounded-lg" onclick="toggleMobileMenu()" aria-label="Menüyü aç/kapat" aria-expanded="false" id="mobile-menu-btn">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Nav -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 absolute w-full shadow-lg" role="navigation" aria-label="Mobil menü">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html" class="block w-full text-left px-3 py-3 rounded-md text-base font-medium text-emerald-600 bg-emerald-50">Ana Sayfa</a>
                <a href="hakkimizda.html" class="block w-full text-left px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-emerald-600 hover:bg-emerald-50">Derneğimiz</a>
                <a href="yerel-rehber.html" class="block w-full text-left px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-emerald-600 hover:bg-emerald-50">Yerel Rehber</a>
                <a href="glutensiz-yasam.html" class="block w-full text-left px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-emerald-600 hover:bg-emerald-50">Glutensiz Yaşam</a>
                <a href="bagis.html" class="block w-full text-left px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-emerald-600 hover:bg-emerald-50">Bağış Yap</a>
                <a href="iletisim.html" class="block w-full text-left px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-emerald-600 hover:bg-emerald-50">İletişim</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="max-w-[1100px] mx-auto min-h-screen p-4 sm:p-6 lg:p-8">

        <!-- Hero -->
        <section class="hero-bg rounded-2xl shadow-xl overflow-hidden mb-10 text-white relative" aria-labelledby="hero-heading">
            <div class="relative p-6 md:p-12 flex flex-col md:flex-row items-center">
                <div class="md:w-2/3 mb-6 md:mb-0 text-center md:text-left"> <br> <br><br>
                    <h2 id="hero-heading" class="text-2xl md:text-4xl font-bold mb-4">
Sağlıklı Bir Yaşam İçin Birlikteyiz</h2>
                    <p class="text-emerald-50 text-base md:text-lg mb-6">Kırıkkale Çölyak Derneği olarak, çölyak hastalarının haklarını korumak ve glutensiz yaşamı kolaylaştırmak için çalışıyoruz.</p>
                    <a href="hakkimizda.html" class="inline-block bg-white text-emerald-600 px-6 py-3 rounded-full font-semibold hover:bg-emerald-50 transition shadow-lg">Derneğimizi Tanıyın</a>
                </div>
                <div class="md:w-1/3 flex justify-center mt-6 md:mt-0">
                    <div class="w-32 h-32 md:w-48 md:h-48 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border-2 border-white/30">
                        <img src="img/logo.png" alt="Kırıkkale Çölyak Derneği" class="w-28 h-28 md:w-44 md:h-44 object-contain" loading="lazy" onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\'fas fa-heart text-4xl\'></i>';">
                    </div>
                </div>
            </div>
        </section>

        <!-- Çölyak Nedir? -->
        <section class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-3 mb-4" aria-labelledby="celiac-info-heading">
            <div class="flex items-center justify-between mb-1 border-b border-gray-100 pb-1">
                <h3 id="celiac-info-heading" class="text-lg md:text-2xl font-bold text-gray-800 flex items-center">
                    <i class="fas fa-newspaper text-emerald-600 mr-3"></i>Çölyak Nedir ?
                </h3>
            </div>
            Çölyak hastalığı (ya da Gluten Enteropatisi), bağırsaklardaki sindirimi sağlayan villus [tüysü oluşumlar] denilen yapıların bozulmasına sebep olan ve dolayısıyla da yiyeceklerdeki besinin emilmesini engelleyen ve ince bağırsakta hasarlar oluşturan bir sindirim sistemi hastalığıdır. Bu hasara buğday, arpa, çavdar, yulaf gibi tahılların içerisinde bulunan guluten isimli bir protein neden olmaktadır.
        </section>

        <!-- Video Section - Dinamik (JSON'dan geliyor) -->
        <section class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-3 mb-4" aria-labelledby="video-heading">
            <div class="flex items-center justify-between mb-1 border-b border-gray-100 pb-1">
                <h3 id="video-heading" class="text-lg md:text-2xl font-bold text-gray-800 flex items-center">
                    <i class="fas fa-video text-emerald-600 mr-3"></i>
                    <span id="video-title">Video Başlığı</span>
                </h3>
                <!-- Video navigasyon butonları (birden fazla video varsa) -->
                <div class="flex space-x-2">
                    <button id="prev-video" class="w-8 h-8 rounded-full bg-gray-100 hover:bg-emerald-100 text-emerald-600 flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed" aria-label="Önceki video">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button id="next-video" class="w-8 h-8 rounded-full bg-gray-100 hover:bg-emerald-100 text-emerald-600 flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed" aria-label="Sonraki video">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <section class="video-section-container" aria-labelledby="video-heading">
                <div class="video-content-wrapper">
                    <div class="text-content">
                        <p class="video-caption" id="video-description">
                            <!-- Açıklama buraya gelecek -->
                        </p>
                    </div>
                    
                    <div class="video-wrapper portrait-video">
                        <div class="video-container">
                            <video 
                                id="mainVideo"
                                controls 
                                preload="auto"
                                poster=""
                                playsinline
                                webkit-playsinline
                                x5-playsinline
                                loading="eager"
                                style="background-color: #000;">
                                <source src="" type="video/mp4">
                                <p style="color: #666; text-align: center; padding: 20px;">
                                    Tarayıcınız video etiketini desteklemiyor. 
                                    <a href="#" id="video-fallback-link">Videoyu indirin</a>
                                </p>
                            </video>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- RSS News Feed (JSON'dan geliyor) -->
        <section class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-1 mb-8" aria-labelledby="news-heading">
            <div class="flex items-center justify-between mb-1 border-b border-gray-100 pb-1">
                <h3 id="news-heading" class="text-lg md:text-2xl font-bold text-gray-800 flex items-center">
                    <i class="fas fa-newspaper text-emerald-600 mr-3"></i>Derneğimiz Hakkında Yerel Medya Haberleri
                </h3>
                <button onclick="refreshNews()" class="text-emerald-600 hover:text-emerald-800 transition-colors p-2 rounded-lg" title="Yenile" aria-label="Haberleri yenile">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
            
            <!-- News Slider -->
            <div class="relative group">
                <button onclick="scrollContainer('left')" class="absolute left-0 top-1/2 -translate-y-1/2 z-20 w-10 h-10 rounded-full bg-white/90 border border-emerald-400 text-emerald-600 flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-emerald-50 hidden md:flex" aria-label="Sola kaydır">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button onclick="scrollContainer('right')" class="absolute right-0 top-1/2 -translate-y-1/2 z-20 w-10 h-10 rounded-full bg-white/90 border border-emerald-400 text-emerald-600 flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-emerald-50 hidden md:flex" aria-label="Sağa kaydır">
                    <i class="fas fa-chevron-right"></i>
                </button>

                <div id="newsScrollContainer" class="flex overflow-x-auto snap-x snap-mandatory hide-scrollbar grab-cursor py-4 space-x-4 md:space-x-6 px-2" style="scroll-behavior: smooth;" role="region" aria-label="Haberler kaydırma alanı">
                    <!-- İçerik JavaScript ile doldurulacak -->
                </div>

                <div class="text-center mt-4 text-gray-400 text-sm">
                    <i class="fas fa-arrows-alt-h mr-2"></i> Kaydırmak için sürükleyin veya okları kullanın
                </div>
            </div>

            <div id="emptyState" class="hidden text-center py-12">
                <i class="fas fa-inbox text-4xl text-gray-300 mb-4"></i>
                <h3 class="text-lg font-semibold text-gray-600">Haber bulunamadı</h3>
                <p class="text-gray-500">Haber listesi boş veya erişilemez durumda.</p>
            </div>
        </section>

        <!-- Quick Stats -->
        <section class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8" aria-label="İstatistikler">
            <div class="bg-emerald-600 text-white p-4 md:p-6 rounded-xl text-center shadow-lg">
                <i class="fas fa-users text-2xl md:text-3xl mb-2 opacity-80"></i>
                <div class="text-2xl md:text-3xl font-bold">450+</div>
                <div class="text-xs md:text-sm opacity-90">İlimizdeki Çölyaklı</div>
            </div>
            <div class="bg-white p-4 md:p-6 rounded-xl text-center shadow-sm border border-gray-100">
                <i class="fas fa-hand-holding-heart text-2xl md:text-3xl mb-2 text-emerald-600"></i>
                <div class="text-2xl md:text-3xl font-bold text-gray-800">100+</div>
                <div class="text-xs md:text-sm text-gray-600">Desteklenen Aile</div>
            </div>
            <div class="bg-white p-4 md:p-6 rounded-xl text-center shadow-sm border border-gray-100">
                <i class="fas fa-store text-2xl md:text-3xl mb-2 text-emerald-600"></i>
                <div class="text-2xl md:text-3xl font-bold text-gray-800">50+</div>
                <div class="text-xs md:text-sm text-gray-600">Aktif Üye</div>
            </div>
            <div class="bg-white p-4 md:p-6 rounded-xl text-center shadow-sm border border-gray-100">
                <i class="fas fa-calendar-check text-2xl md:text-3xl mb-2 text-emerald-600"></i>
                <div class="text-2xl md:text-3xl font-bold text-gray-800">7/24</div>
                <div class="text-xs md:text-sm text-gray-600">Destek</div>
            </div>
        </section>

        <!-- Featured Pages: Glutensiz Yaşam & Yerel Rehber -->
        <section class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-6 mb-4" aria-labelledby="featured-pages-heading">
            <div class="flex items-center justify-between mb-4 border-b border-gray-100 pb-2">
                <h2 id="featured-pages-heading" class="text-lg md:text-2xl font-bold text-gray-800 flex items-center">
                    <i class="fas fa-star text-emerald-600 mr-3"></i> Öne Çıkan Sayfalar
                </h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Glutensiz Yaşam Card -->
                <div class="group bg-gradient-to-br from-emerald-50 to-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border border-emerald-100">
                    <div class="h-44 bg-gradient-to-br from-emerald-400 to-teal-400 flex items-center justify-center relative overflow-hidden">
                        <i class="fas fa-leaf text-7xl text-white opacity-90 transform group-hover:scale-110 transition-transform duration-300" aria-hidden="true"></i>
                        <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity"></div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-2 group-hover:text-emerald-600 transition-colors">Glutensiz Yaşam</h3>
                        <p class="text-gray-600 text-sm mb-4 leading-relaxed">Glutensiz beslenme, pratik tarifler ve günlük yaşam ipuçları. Çölyak dostu içeriklerle sağlıklı bir yaşam sürdürün.</p>
                        <a href="glutensiz-yasam.html" class="inline-flex items-center justify-center w-full sm:w-auto px-5 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg">
                            <span>Keşfet</span>
                            <i class="fas fa-arrow-right ml-2 text-sm"></i>
                        </a>
                    </div>
                </div>
                <!-- Yerel Rehber Card -->
                <div class="group bg-gradient-to-br from-emerald-50 to-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border border-emerald-100">
                    <div class="h-44 bg-gradient-to-br from-amber-400 to-orange-400 flex items-center justify-center relative overflow-hidden">
                        <i class="fas fa-map-marked-alt text-7xl text-white opacity-90 transform group-hover:scale-110 transition-transform duration-300" aria-hidden="true"></i>
                        <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity"></div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-2 group-hover:text-emerald-600 transition-colors">Yerel Rehber</h3>
                        <p class="text-gray-600 text-sm mb-4 leading-relaxed">Kırıkkale'de glutensiz ürün bulabileceğiniz marketler, fırınlar ve restoranlar. Çölyak dostu mekanlar burada.</p>
                        <a href="yerel-rehber.html" class="inline-flex items-center justify-center w-full sm:w-auto px-5 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg">
                            <span>Keşfet</span>
                            <i class="fas fa-arrow-right ml-2 text-sm"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section class="bg-gradient-to-r from-emerald-600 to-teal-600 rounded-2xl p-6 md:p-8 text-center text-white shadow-lg mb-8">
            <h3 class="text-xl md:text-2xl font-bold mb-3">Aramıza Katılın</h3>
            <p class="text-emerald-50 mb-6 max-w-2xl mx-auto text-sm md:text-base">Çölyak hastalığı hakkında daha fazla bilgi edinmek ve topluluğumuzun bir parçası olmak için WhatsApp Grubumuza Katılın</p>
            <div class="flex flex-wrap justify-center gap-4">
                <a href="iletisim.html" class="bg-white text-emerald-600 px-6 py-3 rounded-full font-semibold hover:bg-emerald-50 transition shadow-lg inline-block">
                    <i class="fas fa-user-plus mr-2"></i> WhatsApp Grubuna Katılın
                </a>
                <a href="bagis.html" class="bg-emerald-700 text-white border border-emerald-500 px-6 py-3 rounded-full font-semibold hover:bg-emerald-600 transition inline-block">
                    <i class="fas fa-hand-holding-heart mr-2"></i> Bağış Yap
                </a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-6 md:py-8 mt-12">
        <div class="max-w-[1100px] mx-auto px-4 text-center">
            <div class="w-12 h-12 md:w-16 md:h-16 mx-auto mb-4 rounded-full overflow-hidden bg-gray-700 flex items-center justify-center">
                <img src="img/logo.png" alt="Kırıkkale Çölyak Derneği Logo" class="w-full h-full object-cover opacity-80" loading="lazy" onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\'fas fa-heart text-xl md:text-2xl text-gray-400\'></i>';">
            </div>
            <nav class="mb-4" aria-label="Footer menü">
                <ul class="flex flex-wrap justify-center gap-4 text-sm">
                    <li><a href="index.html" class="hover:text-white transition">Ana Sayfa</a></li>
                    <li><a href="hakkimizda.html" class="hover:text-white transition">Derneğimiz</a></li>
                    <li><a href="yerel-rehber.html" class="hover:text-white transition">Yerel Rehber</a></li>
                    <li><a href="glutensiz-yasam.html" class="hover:text-white transition">Glutensiz Yaşam</a></li>
                    <li><a href="bagis.html" class="hover:text-white transition">Bağış Yap</a></li>
                    <li><a href="iletisim.html" class="hover:text-white transition">İletişim</a></li>
                </ul>
            </nav>
            <p class="mb-2 text-sm md:text-base">&copy; 2026 Kırıkkale Çölyak Derneği. Tüm Hakları Saklıdır.</p>
            <p class="text-xs md:text-sm text-gray-500">Bu web sitesi bilgilendirme amaçlıdır.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script>
        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', function() {
            const menuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            if (menuBtn && mobileMenu) {
                menuBtn.addEventListener('click', function() {
                    const expanded = this.getAttribute('aria-expanded') === 'true' ? false : true;
                    this.setAttribute('aria-expanded', expanded);
                    mobileMenu.classList.toggle('hidden');
                });
            }
        });

        // ========== HABERLER (JSON) ==========
        const newsContainer = document.getElementById('newsScrollContainer');
        const emptyState = document.getElementById('emptyState');

        function scrollContainer(direction) {
            const container = document.getElementById('newsScrollContainer');
            const scrollAmount = 350;
            if (direction === 'left') {
                container.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            } else {
                container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            }
        }

        function formatDate(dateString) {
            try {
                const parts = dateString.match(/(\d{2})\.(\d{2})\.(\d{4})/);
                if (parts) {
                    return `${parts[1]}.${parts[2]}.${parts[3]}`;
                }
                return dateString;
            } catch (e) {
                return dateString;
            }
        }

        function getRelativeTime(dateString) {
            try {
                const parts = dateString.match(/(\d{2})\.(\d{2})\.(\d{4})/);
                if (!parts) return '';
                const date = new Date(parts[3], parts[2]-1, parts[1]);
                const now = new Date();
                const diff = now - date;
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                if (days === 0) return 'Bugün';
                if (days === 1) return 'Dün';
                if (days < 7) return `${days} gün önce`;
                if (days < 30) return `${Math.floor(days / 7)} hafta önce`;
                return `${Math.floor(days / 30)} ay önce`;
            } catch (e) {
                return '';
            }
        }

        async function fetchNews() {
            try {
                const response = await fetch('news.json');
                if (!response.ok) throw new Error('Haberler yüklenemedi');
                const newsItems = await response.json();
                renderNews(newsItems);
            } catch (error) {
                console.error('Haber hatası:', error);
                newsContainer.innerHTML = '';
                emptyState.classList.remove('hidden');
            }
        }

        function renderNews(items) {
            if (!items || items.length === 0) {
                newsContainer.innerHTML = '';
                emptyState.classList.remove('hidden');
                return;
            }
            emptyState.classList.add('hidden');
            
            newsContainer.innerHTML = items.map((item, index) => {
                const imageHtml = item.imageUrl ? 
                    `<div class="relative h-40 md:h-48 overflow-hidden">
                        <img src="${item.imageUrl}" alt="${item.title}" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" loading="lazy" onerror="this.src='https://via.placeholder.com/600x400/059669/ffffff?text=Haber'">
                        <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent opacity-60"></div>
                        <div class="absolute top-3 left-3">
                            <span class="px-2 py-1 bg-emerald-600 text-white text-xs font-semibold rounded-full shadow-lg">
                                ${item.source || 'Haber'}
                            </span>
                        </div>
                    </div>` : 
                    `<div class="relative h-40 md:h-48 bg-gradient-to-br from-emerald-600 to-teal-700 flex items-center justify-center overflow-hidden">
                        <i class="fas fa-newspaper text-4xl md:text-6xl text-white/20"></i>
                        <div class="absolute top-3 left-3">
                            <span class="px-2 py-1 bg-white/20 backdrop-blur-sm text-white text-xs font-semibold rounded-full border border-white/30">
                                ${item.source || 'Haber'}
                            </span>
                        </div>
                    </div>`;
                
                return `
                    <article class="news-card group flex-shrink-0 w-72 md:w-80 bg-white rounded-2xl overflow-hidden border border-gray-100 hover:border-emerald-200 snap-center flex flex-col h-[380px] md:h-[400px] shadow-sm hover:shadow-xl">
                        ${imageHtml}
                        <div class="p-4 md:p-6 flex-1 flex flex-col">
                            <div class="flex items-center text-xs text-gray-500 mb-2 md:mb-3 space-x-2">
                                <i class="far fa-calendar-alt"></i>
                                <span>${formatDate(item.pubDate)}</span>
                                <span class="w-1 h-1 bg-gray-300 rounded-full"></span>
                                <span class="text-emerald-600 font-medium">${getRelativeTime(item.pubDate)}</span>
                            </div>
                            
                            <h2 class="text-base md:text-lg font-bold text-gray-800 mb-2 md:mb-3 line-clamp-2 group-hover:text-emerald-600 transition-colors headline leading-tight">
                                ${item.title}
                            </h2>
                            
                            <p class="text-gray-600 text-xs md:text-sm line-clamp-3 mb-3 md:mb-4 flex-1 leading-relaxed">
                                ${item.description}
                            </p>
                            
                            <a href="${item.link}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full px-4 py-2 bg-gray-50 hover:bg-emerald-600 text-gray-700 hover:text-white rounded-xl transition-all duration-300 group/link border border-gray-200 hover:border-emerald-600 font-medium text-xs md:text-sm">
                                <span>Haberi Oku</span>
                                <i class="fas fa-arrow-right ml-2 transform group-hover/link:translate-x-1 transition-transform"></i>
                            </a>
                        </div>
                    </article>
                `;
            }).join('');
        }

        function refreshNews() {
            newsContainer.innerHTML = `
                <div class="flex-shrink-0 w-72 md:w-80 skeleton rounded-2xl h-[380px] md:h-[400px] snap-center"></div>
                <div class="flex-shrink-0 w-72 md:w-80 skeleton rounded-2xl h-[380px] md:h-[400px] snap-center"></div>
                <div class="flex-shrink-0 w-72 md:w-80 skeleton rounded-2xl h-[380px] md:h-[400px] snap-center"></div>
            `;
            setTimeout(fetchNews, 500);
        }

        // ========== VİDEOLAR (JSON) ==========
        let videos = [];
        let currentVideoIndex = 0;

        const videoElement = document.getElementById('mainVideo');
        const videoTitle = document.getElementById('video-title');
        const videoDescription = document.getElementById('video-description');
        const prevBtn = document.getElementById('prev-video');
        const nextBtn = document.getElementById('next-video');
        const videoSource = videoElement.querySelector('source');
        const fallbackLink = document.getElementById('video-fallback-link');

        async function fetchVideos() {
            try {
                const response = await fetch('videos.json');
                if (!response.ok) throw new Error('Videolar yüklenemedi');
                videos = await response.json();
                if (videos.length > 0) {
                    currentVideoIndex = 0;
                    updateVideoPlayer();
                }
                updateNavButtons();
            } catch (error) {
                console.error('Video hatası:', error);
                videoTitle.textContent = 'Video yüklenemedi';
            }
        }

        function updateVideoPlayer() {
            if (!videos.length) return;
            const video = videos[currentVideoIndex];
            videoTitle.textContent = video.title;
            videoDescription.textContent = video.description;
            videoSource.src = video.videoUrl;
            videoElement.poster = video.poster || '';
            videoElement.load(); // Yeni kaynağı yükle
            if (fallbackLink) fallbackLink.href = video.videoUrl;
        }

        function updateNavButtons() {
            if (!videos.length) {
                prevBtn.disabled = true;
                nextBtn.disabled = true;
                return;
            }
            prevBtn.disabled = currentVideoIndex === 0;
            nextBtn.disabled = currentVideoIndex === videos.length - 1;
        }

        prevBtn.addEventListener('click', () => {
            if (currentVideoIndex > 0) {
                currentVideoIndex--;
                updateVideoPlayer();
                updateNavButtons();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentVideoIndex < videos.length - 1) {
                currentVideoIndex++;
                updateVideoPlayer();
                updateNavButtons();
            }
        });

        // Başlangıçta verileri çek
        document.addEventListener('DOMContentLoaded', () => {
            fetchNews();
            fetchVideos();
        });
    </script>
</body>
</html>
